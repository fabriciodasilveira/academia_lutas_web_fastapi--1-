{% extends "base.html" %}
{% block title %}{% if evento %}Editar Evento{% else %}Novo Evento{% endif %}{% endblock %}
{% block content %}
<div class="row justify-content-center">
    <div class="col-lg-8">
        <div class="d-flex justify-content-between align-items-center mb-4">
            <h1 class="h3 mb-0">{% if evento %}Editar Evento{% else %}Novo Evento{% endif %}</h1>
            <a href="{{ url_for('eventos_list') }}" class="btn btn-outline-secondary">Voltar</a>
        </div>

        <div class="card shadow-sm">
            <div class="card-body">
                <form action="{{ url_for('eventos_salvar') }}" method="POST">
                    {% if evento %}
                    <input type="hidden" name="id" value="{{ evento.id }}">
                    {% endif %}
                    <div class="row g-3">
                        <div class="col-md-8">
                            <label for="nome" class="form-label">Nome do Evento *</label>
                            <input type="text" class="form-control" id="nome" name="nome" value="{{ evento.nome if evento else '' }}" required>
                        </div>
                        <div class="col-md-4">
                            <label for="tipo" class="form-label">Tipo *</label>
                            <select class="form-select" id="tipo" name="tipo" required>
                                <option value="Campeonato" {% if evento and evento.tipo == 'Campeonato' %}selected{% endif %}>Campeonato</option>
                                <option value="Seminário" {% if evento and evento.tipo == 'Seminário' %}selected{% endif %}>Seminário</option>
                                <option value="Confraternização" {% if evento and evento.tipo == 'Confraternização' %}selected{% endif %}>Confraternização</option>
                                <option value="Outro" {% if evento and evento.tipo == 'Outro' %}selected{% endif %}>Outro</option>
                            </select>
                        </div>
                        <div class="col-12">
                            <label for="descricao" class="form-label">Descrição</label>
                            <textarea class="form-control" id="descricao" name="descricao" rows="3">{{ evento.descricao if evento else '' }}</textarea>
                        </div>
                        <div class="col-md-6">
                            <label for="data_evento" class="form-label">Data e Hora *</label>
                            <input type="datetime-local" class="form-control" id="data_evento" name="data_evento" value="{{ evento.data_evento[:16] if evento else '' }}" required>
                        </div>
                        <div class="col-md-6">
                            <label for="local" class="form-label">Local</label>
                            <input type="text" class="form-control" id="local" name="local" value="{{ evento.local if evento else '' }}">
                        </div>
                        <div class="col-md-4">
                            <label for="valor_inscricao" class="form-label">Valor Inscrição (R$) *</label>
                            <input type="number" class="form-control" id="valor_inscricao" name="valor_inscricao" value="{{ evento.valor_inscricao if evento else '0.00' }}" step="0.01" required>
                        </div>
                        <div class="col-md-4">
                            <label for="capacidade" class="form-label">Capacidade Máxima *</label>
                            <input type="number" class="form-control" id="capacidade" name="capacidade" value="{{ evento.capacidade if evento else '0' }}" required>
                        </div>
                        <div class="col-md-4">
                            <label for="status" class="form-label">Status</label>
                            <select class="form-select" id="status" name="status">
                                <option value="Planejado" {% if evento and evento.status == 'Planejado' %}selected{% endif %}>Planejado</option>
                                <option value="Ativo" {% if evento and evento.status == 'Ativo' %}selected{% endif %}>Ativo</option>
                                <option value="Encerrado" {% if evento and evento.status == 'Encerrado' %}selected{% endif %}>Encerrado</option>
                                <option value="Cancelado" {% if evento and evento.status == 'Cancelado' %}selected{% endif %}>Cancelado</option>
                            </select>
                        </div>
                    </div>
                    <div class="d-flex justify-content-end mt-4">
                        <button type="submit" class="btn btn-primary">Salvar Evento</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock %}